<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="twitter:card" content="summary_large_image" /><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Snake Game | fastpages</title>
<meta name="generator" content="Jekyll v4.1.1" />
<meta property="og:title" content="Snake Game" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="A pretty advanced use of JavaScript building classic snake game using menu controls, key events, snake simulation and timers." />
<meta property="og:description" content="A pretty advanced use of JavaScript building classic snake game using menu controls, key events, snake simulation and timers." />
<link rel="canonical" href="https://b-g101.github.io/BASE/snake_game" />
<meta property="og:url" content="https://b-g101.github.io/BASE/snake_game" />
<meta property="og:site_name" content="fastpages" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-09-02T00:00:00-05:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Snake Game" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2022-09-02T00:00:00-05:00","datePublished":"2022-09-02T00:00:00-05:00","description":"A pretty advanced use of JavaScript building classic snake game using menu controls, key events, snake simulation and timers.","headline":"Snake Game","mainEntityOfPage":{"@type":"WebPage","@id":"https://b-g101.github.io/BASE/snake_game"},"url":"https://b-g101.github.io/BASE/snake_game"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/BASE/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="https://b-g101.github.io/BASE/feed.xml" title="fastpages" /><link rel="shortcut icon" type="image/x-icon" href="/BASE/images/favicon.ico"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Primer/15.2.0/primer.css" integrity="sha512-xTz2ys4coGAOz8vuV1NcQBkgVmKhsSEtjbqyMJbBHRplFuvKIUo6xhLHpAyPt9mfR6twHJgn9OgVLuqOvjeBhg==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" integrity="sha512-1PKOgIY59xJ8Co8+NE6FZ+LOAZKjy+KY8iq0G4B3CyeY6wYHN3yt9PW0XpSriVlkMXe40PTKnXrLnZ9+fkDaog==" crossorigin="anonymous" />

<script>
function wrap_img(fn) {
    if (document.attachEvent ? document.readyState === "complete" : document.readyState !== "loading") {
        var elements = document.querySelectorAll(".post img");
        Array.prototype.forEach.call(elements, function(el, i) {
            if (el.getAttribute("title") && (el.className != "emoji")) {
                const caption = document.createElement('figcaption');
                var node = document.createTextNode(el.getAttribute("title"));
                caption.appendChild(node);
                const wrapper = document.createElement('figure');
                wrapper.className = 'image';
                el.parentNode.insertBefore(wrapper, el);
                el.parentNode.removeChild(el);
                wrapper.appendChild(el);
                wrapper.appendChild(caption);
            }
        });
    } else { document.addEventListener('DOMContentLoaded', fn); }
}
window.onload = wrap_img;
</script>

<script>
    document.addEventListener("DOMContentLoaded", function(){
    // add link icon to anchor tags
    var elem = document.querySelectorAll(".anchor-link")
    elem.forEach(e => (e.innerHTML = '<i class="fas fa-link fa-xs"></i>'));
    });
</script>
</head>
<body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/BASE/">fastpages</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/BASE/about/">About Me</a><a class="page-link" href="/BASE/search/">Search</a><a class="page-link" href="/BASE/categories/">Tags</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <html lang="en">
<head>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
</head>


<body>


<body>
<h1> Snake Game </h1>

Score: <div id="score">0</div>
<button onclick="new_game()" id="reload">New Game</button>
<canvas id="snakeboard" width="400" height="400"></canvas> <!-- sets up the board/dimension of the board -->

<!--formatting the format and design of the snake  board and the score -->
<!--future plans: add grids in the snakeboard-->
<style>
    #snakeboard {
        position: absolute;
        top: 40%;
        left: 69%;
        transform: translate(-50%, -50%);
    }
    #score {
        text-align: left;
        font-size: 100px;
    }
</style>
</body>
<!--code for the actual game-->
<script>
    const board_border = 'black'; /*setting up the color of the board and snake*/
    const board_background = "white";
    const snake_col = 'cyan';
    const snake_border = 'darkblue';
    let snake = [
        {x: 200, y: 200},
        {x: 190, y: 200},
        {x: 180, y: 200},
        {x: 170, y: 200},
        {x: 160, y: 200}
    ]
    let score = 0;
    let changing_direction = false;    /* True if changing direction*/
    let food_x;
    let food_y;
    let dx = 10; /* horizontal distance change */
    let dy = 0; /*vertical distance change */
    const snakeboard = document.getElementById("snakeboard"); /*get canvas element */
    const snakeboard_ctx = snakeboard.getContext("2d");
    /* start game*/
    main();
    gen_food();
    document.addEventListener("keydown", change_direction);
    // main function called repeatedly to keep the game running
    function main() { /*defining function main.*/
        if (has_game_ended()) return;
        changing_direction = false; /*if the player does not change the direction*/
        setTimeout(function onTick() {
            clear_board();
            drawFood();
            move_snake();
            drawSnake();
            // Repeat
            main();
        }, 100)
    }
    // draw a border around the canvas
    function clear_board() {
        //  Select the color to fill the drawing
        snakeboard_ctx.fillStyle = board_background;
        //  Select the colour for the border of the canvas
        snakeboard_ctx.strokestyle = board_border;
        // Draw a "filled" rectangle to cover end entire canvas
        snakeboard_ctx.fillRect(0, 0, snakeboard.width, snakeboard.height);
        // Draw a "border" around the entire canvas
        snakeboard_ctx.strokeRect(0, 0, snakeboard.width, snakeboard.height);
    }
    /*Draw the snake on the canvas*/
    function drawSnake() {
        snake.forEach(drawSnakePart)
    }
    /*creating food */
    function drawFood() {
        snakeboard_ctx.fillStyle = 'lightgreen';
        snakeboard_ctx.strokestyle = 'darkgreen';
        snakeboard_ctx.fillRect(food_x, food_y, 10, 10);
        snakeboard_ctx.strokeRect(food_x, food_y, 10, 10);
    }
    function drawSnakePart(snakePart) { /*draws the new boxes of snake, i.e. parts of snake*/
        snakeboard_ctx.fillStyle = snake_col; /*color of new part is the same as snake_col defined before*/
        snakeboard_ctx.strokestyle = snake_border; /*color of the border of new part is the same as snake_border defined before*/
        snakeboard_ctx.fillRect(snakePart.x, snakePart.y, 10, 10);
        /*fills in the new part with color + locate the color of the new part to the end of the snake*/
        snakeboard_ctx.strokeRect(snakePart.x, snakePart.y, 10, 10);
        /*draws a border aroudn the new part + locate the border to the end of the snake */
    }
    function new_game(){
        location.reload();
    }
    function has_game_ended() {
        for (let i = 4; i < snake.length; i++) {
            if (snake[i].x === snake[0].x && snake[i].y === snake[0].y) return true
            /* === means that the two things on both sides are of the same type and value*/
            /* && = and. both as to be true in order to return true */
        }
        const hitLeftWall = snake[0].x < 0;
        const hitRightWall = snake[0].x > snakeboard.width-20;
        const hitTopWall = snake[0].y < 0;
        const hitBottomWall = snake[0].y > snakeboard.height-20;
        return hitLeftWall || hitRightWall || hitTopWall || hitBottomWall
    }
    function random_food(min, max) {
        return Math.round((Math.random() * (max-min) + min) / 10) * 10;
    }
    function gen_food() {
        food_x = random_food(0, snakeboard.width - 10);
        /*generate random x-coord of food*/
        /*-10 so that it does not generate the x coord on where the wall is located at*/
        food_y = random_food(0, snakeboard.height - 10);
        /*generate random y-coord of food*/
        snake.forEach(function has_snake_eaten_food(part) {
            const has_eaten = part.x == food_x && part.y == food_y;
            if (has_eaten) gen_food();
        });
        /*if the food location is the snake location, generate new location*/
    }
    function change_direction(event) {
        const LEFT_KEY = 37;
        const RIGHT_KEY = 39;
        const UP_KEY = 38;
        const DOWN_KEY = 40;
        // Prevent the snake from reversing
        if (changing_direction) return;
        changing_direction = true; /*if the players changes direction */
        const keyPressed = event.keyCode;
        /*keyPressed stores information about which key is pressed*/
        const goingUp = dy === -10;
        const goingDown = dy === 10;
        const goingRight = dx === 10;
        const goingLeft = dx === -10;
        /*code above sets the value of each turn*/
        if (keyPressed === LEFT_KEY && !goingRight) {
            dx = -10;
            dy = 0;
        }
        /* if left key is pressed and the snake is not going right, then dx = -10 and dy = 0*/
        if (keyPressed === UP_KEY && !goingDown) {
            dx = 0;
            dy = -10;
        }
        /* if up key is pressed and the snake is not going down, then dx = 0 and dy = -10*/
        if (keyPressed === RIGHT_KEY && !goingLeft) {
            dx = 10;
            dy = 0;
        }
        /* if right key is pressed and the snake is not going left, then dx = 10 and dy = 0*/
        if (keyPressed === DOWN_KEY && !goingUp) {
            dx = 0;
            dy = 10;
        }
        /* if down key is pressed and the snake is not going up, then dx = 0 and dy = 10*/
    }
    function move_snake() {
        // Create the new Snake's head
        const head = {x: snake[0].x + dx, y: snake[0].y + dy};
        // Add the new head to the beginning of snake body
        snake.unshift(head);
        const has_eaten_food = snake[0].x === food_x && snake[0].y === food_y;
        if (has_eaten_food) {
            score += 10; /*add score*/
            document.getElementById('score').innerHTML = score; /*display score*/
            gen_food(); /*generate new food location*/
        } else {
            // Remove the last part of snake body
            snake.pop();
        }
    }
</script>





</body>


</html>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/BASE/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="/BASE/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/BASE/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
      </div>
      <div class="footer-col">
        <p>An easy to use blogging platform with support for Jupyter Notebooks.</p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"><li><a rel="me" href="https://github.com/fastai" target="_blank" title="fastai"><svg class="svg-icon grey"><use xlink:href="/BASE/assets/minima-social-icons.svg#github"></use></svg></a></li><li><a rel="me" href="https://twitter.com/fastdotai" target="_blank" title="fastdotai"><svg class="svg-icon grey"><use xlink:href="/BASE/assets/minima-social-icons.svg#twitter"></use></svg></a></li></ul>
</div>

  </div>

</footer>
</body>

</html>
